#include <stdio.h>

int board[1024];
int rowSum[1025];
int colSum[1025];

char* mapData[32] = {
    "00001111111100000001111111100000",
    "00000111111000000000111111000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00001100011111111111110001100000",
    "10000100000000000000000001000001",
    "10000100000000000000000001000001",
    "10000100000000000000000001000001",
    "00000100000000000000000001000000",
    "00001111111111000111110001100000",
    "00001100010000000000010001100000",
    "00011100010000000000010001110000",
    "00011100010000000000010001110000",
    "00000000000001111100000000000000",
    "00000000000001111100000000000000",
    "00000000000001111100000000000000",
    "00011100010000000000010001110000",
    "00011100010000000000010001110000",
    "00001100010000000000010001100000",
    "00001100011111000111111111100000",
    "00000100000000000000000001000000",
    "10000100000000000000000001000001",
    "10000100000000000000000001000001",
    "10000100000000000000000001000001",
    "00001100011111111111110001100000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000111111000000000111111000000",
    "00000111111000000000111111000000",
    "00001111111100000001111111100000"
};

void initMap() {
    for (int y = 0; y < 32; y++) {
        for (int x = 0; x < 32; x++) {
            board[y * 32 + x] = mapData[y][x] - '0';
        }
    }

    for (int y = 0; y < 32; y++) {
        rowSum[y * 33] = 0;
        for (int x = 0; x < 32; x++) {
            rowSum[y * 33 + x + 1] = rowSum[y * 33 + x] + board[y * 32 + x];
        }
    }
    for (int x = 0; x < 32; x++) {
        colSum[x * 33] = 0;
        for (int y = 0; y < 32; y++) {
            colSum[x * 33 + y + 1] = colSum[x * 33 + y] + board[y * 32 + x];
        }
    }
}

void writeArrays(char* filename) {
    FILE* file = fopen(filename, "w");

    fprintf(file, "// Префиксные суммы по строкам\n");
    fprintf(file, "int rowSum[1025] = {\n    ");
    for (int i = 0; i < 1025; i++) {
        fprintf(file, "%d", rowSum[i]);
        if (i < 1024) {
            fprintf(file, ", ");
        }
        if ((i + 1) % 16 == 0 && i < 1024) {
            fprintf(file, "\n    ");
        }
    }
    fprintf(file, "\n};\n\n");

    fprintf(file, "// Префиксные суммы по столбцам\n");
    fprintf(file, "int colSum[1025] = {\n    ");
    for (int i = 0; i < 1025; i++) {
        fprintf(file, "%d", colSum[i]);
        if (i < 1024) {
            fprintf(file, ", ");
        }
        if ((i + 1) % 16 == 0 && i < 1024) {
            fprintf(file, "\n    ");
        }
    }
    fprintf(file, "\n};\n");
    
    fclose(file);
}

int main() {
    initMap();

    writeArrays("shoot_arrays.c");

    return 0;
}